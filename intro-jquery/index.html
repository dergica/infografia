<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Hola!</title>
	<style>
		body{padding:3rem; font-family:Helvetica, Arial, sans-serif;}
		body.hidden { display:none; }
	</style>

 	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
   crossorigin=""/>
 <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
   integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
   crossorigin=""></script>

	</head>
	<body class="hidden">
		<h1>Aparece</h1>
		<p>Esta página tiene un efecto al cargarse: Un fadeIn de 1000 milisegundos que se logra con el uso de <a href="https://jquery.com/">jQuery</a>).</p>
		<p>Además, con el mismo JSON, voy a buscar un JSON, que luego utilizo para marcar en un mapa las coordenadas del último movimiento telúrico en la serie de eventos que se registran (sobre los 4.5)</p>
		<div id="mapid" style="width: 600px; height: 400px;"></div>
	</div>
	
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
	<script>
	$(document).ready(function () {
		$('body').fadeIn(1000).removeClass('hidden');
		$.getJSON('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_day.geojson', function (data) {
			console.log(data);
			var lat = data.features[0].geometry.coordinates[0];
			var lon = data.features[0].geometry.coordinates[1]
			console.log("Latitud: " + lat);
			console.log("Longitud: " + lon);
			//ahora me aprovecho de una biblioteca de javascript, que se llama leaflet.js

			var mymap = L.map('mapid').setView([lat, lon], 2);

			L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
			id: 'mapbox.dark'
	}).addTo(mymap);

	L.marker([lat, lon]).addTo(mymap);

		});
	});
	</script>
	</body>
</html>